# Распределенные очереди сообщений на примере Kafka
## Потоковая обработка данных
**Система обработки потоков** – система нежёсткого реального времени, которая делает данные доступными, когда клиентское приложение хочет их видеть.
- Слабая связанность
- Асинхронное взаимодействие
- Рассогласование во времени
- Регулирование нагрузки
- Надёжное взаимодействие
- Удалённое взаимодействие

## Kafka
Kafka – Платформа потоковой обработки данных.
Состоит из:
- Брокер сообщений
- Producer API – отправка сообщений
- Consumer API – чтение сообщений
- Connect API – импорт / экспорт данных
- Streams API – обработка потоков
- ksqlDB – event streaming database  

Основные концепции:
- Record – элемент данных ключ-значение
- Topic – имя потока с данными
- Producer – процесс, публикующий записи
- Consumer – процесс, читающий записи
- Offset – позиция записи
- Partition – единица параллелизма темы

**Архитектура кластера Kafka**
- Zookeeper – членство брокеров в кластере, выборы контроллера.
- Контроллер – это брокер, который также отвечает за выбор ведущих реплик для секций.
- Broker – управление данными, взаимодействие с клиентами.

**Внимание** Кафка работает по Pull модели!  

При работе с Кафка возможно либо дублирование, либо пропуск сообщений в случае если потребитель упал во время обработки.
Для того чтобы избежать этих проблем нужно отключать свойство **autocommit**


